# AutoBot Redis Configuration
# Eliminates duplicate Redis settings across 5+ containers

# Redis Connection (standardized across all services)
REDIS_HOST=autobot-redis
REDIS_PORT=6379
REDIS_URL=redis://autobot-redis:6379

# Redis Database Separation (isolates different data types)
REDIS_DB_MAIN=0           # Main application data (sessions, cache, etc.)
REDIS_DB_KNOWLEDGE=1      # Knowledge base and documents
REDIS_DB_PROMPTS=2        # Prompt templates and management
REDIS_DB_AGENTS=3         # Agent communication and coordination
REDIS_DB_METRICS=4        # Performance metrics and monitoring
REDIS_DB_LOGS=5           # Structured logs and events
REDIS_DB_SESSIONS=6       # User sessions and authentication
REDIS_DB_WORKFLOWS=7      # Workflow state and orchestration
REDIS_DB_VECTORS=8        # Vector embeddings cache
REDIS_DB_MODELS=9         # Model metadata and versioning
REDIS_DB_TESTING=15       # Test data (isolated from production)

# Default database selection (backwards compatibility)
REDIS_DB=0

# Redis Connection Pool Settings
REDIS_MAX_CONNECTIONS=20
REDIS_CONNECTION_TIMEOUT=30
REDIS_SOCKET_TIMEOUT=30
REDIS_SOCKET_KEEPALIVE=true
REDIS_SOCKET_KEEPALIVE_OPTIONS=

# Redis Retry Configuration
REDIS_RETRY_ON_TIMEOUT=true
REDIS_RETRY_BACKOFF_FACTOR=0.5
REDIS_MAX_RETRIES=3

# Redis SSL/TLS (disabled for internal communication)
REDIS_SSL=false
REDIS_SSL_CERT_REQS=required
REDIS_SSL_CA_CERTS=
REDIS_SSL_CERTFILE=
REDIS_SSL_KEYFILE=

# Redis Cluster Configuration (if using cluster mode)
REDIS_CLUSTER_ENABLED=false
REDIS_CLUSTER_NODES=
REDIS_CLUSTER_SKIP_FULL_COVERAGE_CHECK=false

# Redis Sentinel Configuration (if using sentinel)
REDIS_SENTINEL_ENABLED=false
REDIS_SENTINEL_HOSTS=
REDIS_SENTINEL_SERVICE_NAME=mymaster
REDIS_SENTINEL_SOCKET_TIMEOUT=30

# Redis Performance Tuning
REDIS_DECODE_RESPONSES=true
REDIS_ENCODING=utf-8
REDIS_ENCODING_ERRORS=strict

# Redis Health Check
REDIS_HEALTH_CHECK_INTERVAL=30
REDIS_PING_TIMEOUT=5

# Application-specific Redis Configuration
REDIS_PREFIX=autobot
REDIS_CACHE_TTL=3600
REDIS_SESSION_TTL=7200
REDIS_METRICS_TTL=86400
