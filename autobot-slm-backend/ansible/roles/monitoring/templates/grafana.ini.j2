# AutoBot - AI-Powered Automation Platform
# Copyright (c) 2025 mrveiss
# Author: mrveiss
#
# Grafana Configuration - Generated by Ansible

[paths]
data = {{ grafana_data_dir }}
logs = /var/log/grafana
plugins = /var/lib/grafana/plugins
provisioning = /etc/grafana/provisioning

[server]
protocol = http
http_addr = 127.0.0.1
http_port = {{ grafana_port }}
domain = localhost
root_url = %(protocol)s://%(domain)s:%(http_port)s/grafana/
serve_from_sub_path = true

[database]
type = sqlite3
path = grafana.db

[security]
admin_user = {{ grafana_admin_user }}
admin_password = {{ grafana_admin_password }}
secret_key = {{ lookup('password', '/dev/null chars=ascii_letters,digits length=32') }}
disable_gravatar = true
cookie_secure = false
cookie_samesite = none
allow_embedding = true

[users]
allow_sign_up = false
allow_org_create = false
auto_assign_org = true
auto_assign_org_role = Viewer

[auth.anonymous]
enabled = {{ grafana_allow_anonymous | lower }}
org_name = Main Org.
org_role = Viewer

[auth]
disable_login_form = false
oauth_auto_login = false

[log]
mode = file
level = info

[analytics]
reporting_enabled = false
check_for_updates = false

[feature_toggles]
enable = tempoSearch tempoBackendSearch

[unified_alerting]
enabled = true
