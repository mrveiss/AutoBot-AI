# AutoBot - AI-Powered Automation Platform
# Copyright (c) 2025 mrveiss
# Author: mrveiss
---
# Backend role - Phase 1 CLEAN task (#926 Phase 4)
# Removes legacy and wrong-node directories from .20 (backend node).
# Run via: ansible-playbook ... --tags clean
# Safe to run any time; all removes are conditional.

- name: "Backend | Clean: legacy npu-worker dir"
  ansible.builtin.file:
    path: /opt/autobot/npu-worker
    state: absent
  tags: ['clean']

- name: "Backend | Clean: legacy browser-service dir"
  ansible.builtin.file:
    path: /opt/autobot/browser-service
    state: absent
  tags: ['clean']

- name: "Backend | Clean: legacy ai-stack dir"
  ansible.builtin.file:
    path: /opt/autobot/ai-stack
    state: absent
  tags: ['clean']

- name: "Backend | Clean: legacy autobot-user-backend dir"
  ansible.builtin.file:
    path: /opt/autobot/autobot-user-backend
    state: absent
  tags: ['clean']

- name: "Backend | Clean: wrong-node autobot-slm-frontend dir"
  ansible.builtin.file:
    path: /opt/autobot/autobot-slm-frontend
    state: absent
  tags: ['clean']

- name: "Backend | Clean: wrong-node autobot-slm-backend dir"
  ansible.builtin.file:
    path: /opt/autobot/autobot-slm-backend
    state: absent
  tags: ['clean']
