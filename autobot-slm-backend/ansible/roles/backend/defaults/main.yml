# AutoBot - AI-Powered Automation Platform
# Copyright (c) 2025 mrveiss
# Author: mrveiss
---
# Backend configuration defaults
backend_user: autobot
backend_group: autobot
backend_install_dir: /opt/autobot/autobot-backend
backend_code_dir: "{{ backend_install_dir }}"  # Actual code location (can be overridden by playbook)
backend_log_dir: /var/log/autobot
backend_data_dir: /var/lib/autobot

# Deployment
backend_repo_url: "https://github.com/mrveiss/AutoBot-AI.git"
backend_version: main
backend_deploy_from_git: true

# Server settings
backend_host: "0.0.0.0"
backend_port: 8443  # Issue #858/#861: HTTPS port
backend_workers: 4

# Celery worker settings (Issue #863)
celery_concurrency: 4  # Number of worker processes
celery_max_tasks_per_child: 1000  # Restart worker after N tasks (prevents memory leaks)

# Redis connection
backend_redis_host: "{{ redis_host | default('127.0.0.1') }}"
backend_redis_port: 6379
backend_redis_password: ""

# API settings
backend_secret_key: "change-me-in-production"
backend_cors_origins: "*"

# LLM Configuration (Issue #858)
backend_llm_provider: "ollama"  # Default LLM provider for all agents
backend_llm_endpoint: "http://127.0.0.1:11434"  # Default Ollama endpoint
backend_llm_model: "mistral:7b-instruct"  # Default LLM model

# Service Authentication
service_auth_service_id: "main-backend"
service_auth_keys_dir: "/etc/autobot/service-keys"
service_auth_enforcement_mode: true
service_auth_override_token: ""
service_auth_circuit_breaker_percentage: 100
service_auth_timestamp_window: 300
service_auth_rate_limit_window: 300
service_auth_rate_limit_max_failures: 10
