# AutoBot Future Tasks (TODO List)

This document outlines tasks that are currently deferred to streamline the primary goal of getting the AutoBot application fully operational. These tasks will be addressed in subsequent development phases.

## Phase 3: Complete Remaining Refinement and Testing (Deferred)

**Overall Goal**: Ensure that command outputs and other tool results from the LangChain Agent are correctly processed and displayed to the user, and complete all remaining refinement and testing tasks for the new architecture.

### Task 3.1: Adjust existing workflow to the new setup.
*   **Step 3.1.1**: Review `main.py` to ensure all other API endpoints correctly interact with the new `Orchestrator` logic and event publishing.
*   **Step 3.1.2**: Verify `worker_node.py`'s `execute_task` remains compatible with the tasks generated by the LangChain agent.
*   **Step 3.1.3**: Confirm that Redis caching for memory/logs (via `ChatHistoryManager`) is still functional and integrated with the new flow.

### Task 3.2: Comprehensive Testing and Validation.
*   **Step 3.2.1**: Develop or update unit/integration tests to verify the new LangChain/LlamaIndex workflow, especially for command execution, knowledge retrieval, and complex multi-tool interactions.
*   **Step 3.2.2**: Conduct manual testing with various user inputs, including complex queries requiring tool use and knowledge retrieval, to ensure the agent behaves as expected and avoids hallucination.
*   **Step 3.2.3**: Update `docs/tasks.md` and `docs/task_log.md` to reflect the completion of these tasks.

---

## Current Focus: Getting AutoBot Application Running

The immediate focus is on resolving the following critical issues:
-   **Backend Startup Failure**: "Failed to initialize LangChain Agent: Required Redis db module search >= 20600 OR searchlight >= 20600 not installed."
-   **Frontend Connectivity**: `TypeError: Failed to fetch` errors, indicating the frontend cannot connect to the backend. (This is likely a symptom of the backend not fully starting).

### Current Status: Redis Connection Refused from Python to Docker

Despite the `redis-stack` Docker container running and its logs showing RediSearch is loaded, the Python application (AutoBot backend) is consistently receiving "Connection refused" errors when attempting to connect to Redis, even when using the container's internal IP (`172.17.0.2`). This indicates a network isolation or firewall issue between the WSL2 environment and the Docker Desktop environment on the Windows host.

### Next Steps: Diagnose WSL2/Docker Network Connectivity

*   **Task 1.1: Verify WSL2 Network Configuration.**
    *   **Step 1.1.1**: Ask the user to check if their WSL2 distribution can ping the Docker bridge network gateway and the Redis container's IP.
        ```bash
        ping 172.17.0.1 # Docker bridge gateway
        ping 172.17.0.2 # Redis container IP
        ```
    *   **Step 1.1.2**: If ping fails, instruct the user to investigate their WSL2 network settings or restart their WSL2 distribution.
*   **Task 1.2: Check Windows Firewall.**
    *   **Step 1.2.1**: Instruct the user to temporarily disable their Windows Firewall (or add an inbound rule for port 6379) to rule out firewall blocking the connection from WSL2 to Docker Desktop.
    *   **Step 1.2.2**: After checking, re-enable the firewall if it was disabled.
*   **Task 1.3: Restart Docker Desktop.**
    *   **Step 1.3.1**: Suggest restarting Docker Desktop on the Windows host, as this can sometimes resolve transient networking issues.
*   **Task 1.4: Re-run AutoBot.**
    *   **Step 1.4.1**: After performing the above checks, ask the user to run `bash run_agent.sh` again and provide the full output.

---

## Future Enhancements (Dockerization)

*   **Explore Dockerizing Components**: Investigate which components (e.g., LangChain agent, worker nodes) can be split into separate Docker containers that do not require direct access to the local OS and its tools. This could improve portability and isolation.
