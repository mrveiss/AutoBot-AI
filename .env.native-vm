# AutoBot Native VM Deployment Configuration
# Configuration for distributed native VM architecture
# WSL Backend (172.16.168.20) connects to services on dedicated VMs

# ==============================================
# NATIVE VM DEPLOYMENT CONFIGURATION
# ==============================================
# Each service runs on its dedicated VM with proper isolation

# Core Infrastructure - Redis on VM3
AUTOBOT_REDIS_HOST=172.16.168.23
AUTOBOT_REDIS_PORT=6379

# REDIS DATABASE CONFIGURATION
# Separate databases by purpose for better organization and isolation
AUTOBOT_REDIS_DB_MAIN=0           # Main application data (sessions, cache, etc.)
AUTOBOT_REDIS_DB_KNOWLEDGE=1      # Knowledge base and documents
AUTOBOT_REDIS_DB_PROMPTS=2        # Prompt templates and management
AUTOBOT_REDIS_DB_AGENTS=3         # Agent communication and coordination
AUTOBOT_REDIS_DB_METRICS=4        # Performance metrics and monitoring
AUTOBOT_REDIS_DB_LOGS=5           # Structured logs and events
AUTOBOT_REDIS_DB_SESSIONS=6       # User sessions and authentication
AUTOBOT_REDIS_DB_WORKFLOWS=7      # Workflow state and orchestration
AUTOBOT_REDIS_DB_VECTORS=8        # Vector embeddings cache
AUTOBOT_REDIS_DB_MODELS=9         # Model metadata and versioning
AUTOBOT_REDIS_DB_TESTING=15       # Test data (isolated from production)

# AI Services - Local Ollama on WSL host
AUTOBOT_OLLAMA_HOST=127.0.0.1
AUTOBOT_OLLAMA_PORT=11434

# Application Services
AUTOBOT_BACKEND_HOST=172.16.168.20  # WSL backend
AUTOBOT_BACKEND_PORT=8001

AUTOBOT_FRONTEND_HOST=172.16.168.21  # VM1 - Frontend
AUTOBOT_FRONTEND_PORT=80

# VM Services - Distributed Architecture
AUTOBOT_PLAYWRIGHT_HOST=172.16.168.25  # VM5 - Browser Service
AUTOBOT_PLAYWRIGHT_API_PORT=3000
AUTOBOT_PLAYWRIGHT_VNC_PORT=6080

AUTOBOT_NPU_WORKER_HOST=172.16.168.22  # VM2 - NPU Worker
AUTOBOT_NPU_WORKER_PORT=8081

AUTOBOT_AI_STACK_HOST=172.16.168.24    # VM4 - AI Stack
AUTOBOT_AI_STACK_PORT=8080

# Monitoring Services - Keep on WSL host for now
AUTOBOT_LOG_VIEWER_HOST=127.0.0.1
AUTOBOT_LOG_VIEWER_PORT=5341

# Protocols
AUTOBOT_HTTP_PROTOCOL=http
AUTOBOT_WS_PROTOCOL=ws
AUTOBOT_REDIS_PROTOCOL=redis

# URLs (computed from above)
AUTOBOT_API_BASE_URL=http://172.16.168.20:8001
AUTOBOT_REDIS_URL=redis://172.16.168.23:6379
AUTOBOT_OLLAMA_URL=http://127.0.0.1:11434
AUTOBOT_WS_BASE_URL=ws://172.16.168.20:8001/ws

# Performance Configuration
AUTOBOT_API_TIMEOUT=30000

# Feature Flags for Native VM Deployment
AUTOBOT_DEPLOYMENT_MODE=native-vm
AUTOBOT_DOCKER_ENABLED=false
AUTOBOT_VM_ARCHITECTURE=true

# Hardware Configuration
TF_USE_LEGACY_KERAS=1
KERAS_BACKEND=tensorflow