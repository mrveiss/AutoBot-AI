{"version":3,"file":"index.28b88b30.js","sources":["../node_modules/@mui/icons-material/esm/Mic.js","../node_modules/@mui/icons-material/esm/Pause.js","../node_modules/@mui/icons-material/esm/PlayArrow.js","../node_modules/@mui/icons-material/esm/Send.js","../src/views/Chat/index.jsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z\"\n}), 'Mic');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19h4V5H6zm8-14v14h4V5z\"\n}), 'Pause');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M8 5v14l11-7z\"\n}), 'PlayArrow');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');","import React, { useState, useEffect, useRef } from 'react';\nimport { Box, TextField, Button, List, ListItem, ListItemText, ListItemSecondaryAction, IconButton, Paper, Typography } from '@mui/material';\nimport { Send as SendIcon, Mic as MicIcon, Pause as PauseIcon, PlayArrow as PlayArrowIcon } from '@mui/icons-material';\n\nconst Chat = () => {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [isPaused, setIsPaused] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const chatHistoryRef = useRef(null);\n  const ws = useRef(null);\n\n  useEffect(() => {\n    // Connect to WebSocket\n    ws.current = new WebSocket('ws://localhost:8000/ws');\n    ws.current.onmessage = (event) => {\n      const data = JSON.parse(event.data);\n      if (data.type === 'user_message' || data.type === 'llm_response' || data.type === 'error') {\n        setMessages(prev => [...prev, { sender: data.type === 'user_message' ? 'user' : (data.type === 'error' ? 'error' : 'bot'), text: data.payload.message || data.payload.response || data.payload.message }]);\n      }\n    };\n    ws.current.onerror = (error) => {\n      console.error('WebSocket error:', error);\n      setMessages(prev => [...prev, { sender: 'error', text: 'Connection error. Please try again.' }]);\n    };\n    ws.current.onclose = () => {\n      console.log('WebSocket closed');\n    };\n\n    return () => {\n      if (ws.current) {\n        ws.current.close();\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    // Auto-scroll to bottom on new messages\n    if (chatHistoryRef.current) {\n      chatHistoryRef.current.scrollTop = chatHistoryRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  const sendMessage = () => {\n    if (input.trim() && ws.current && ws.current.readyState === WebSocket.OPEN) {\n      const message = { type: 'user_message', payload: { message: input } };\n      ws.current.send(JSON.stringify(message));\n      setInput('');\n    }\n  };\n\n  const handleKeyPress = (event) => {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      sendMessage();\n    }\n  };\n\n  const togglePause = () => {\n    setIsPaused(!isPaused);\n    // Send pause/resume command to backend\n    if (ws.current && ws.current.readyState === WebSocket.OPEN) {\n      ws.current.send(JSON.stringify({ type: isPaused ? 'resume_agent' : 'pause_agent' }));\n    }\n  };\n\n  const toggleRecording = () => {\n    setIsRecording(!isRecording);\n    // TODO: Implement actual voice recording logic\n    if (ws.current && ws.current.readyState === WebSocket.OPEN) {\n      ws.current.send(JSON.stringify({ type: isRecording ? 'stop_recording' : 'start_recording' }));\n    }\n  };\n\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column', height: 'calc(100vh - 64px - 48px)' }}>\n      <Typography variant=\"h5\" gutterBottom>\n        Chat with AutoBot\n      </Typography>\n      <Paper elevation={3} sx={{ flexGrow: 1, overflowY: 'auto', mb: 2, p: 2 }} ref={chatHistoryRef}>\n        <List>\n          {messages.map((msg, index) => (\n            <ListItem key={index} sx={{ flexDirection: msg.sender === 'user' ? 'row-reverse' : 'row' }}>\n              <ListItemText \n                primary={msg.text} \n                sx={{ \n                  bgcolor: msg.sender === 'user' ? '#e3f2fd' : (msg.sender === 'error' ? '#ffebee' : '#f5f5f5'), \n                  borderRadius: 2, \n                  p: 1, \n                  maxWidth: '80%' \n                }} \n              />\n            </ListItem>\n          ))}\n        </List>\n      </Paper>\n      <Box sx={{ display: 'flex', gap: 1 }}>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          placeholder=\"Type your message here...\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          onKeyPress={handleKeyPress}\n          multiline\n          maxRows={3}\n        />\n        <Button \n          variant=\"contained\" \n          onClick={sendMessage} \n          disabled={!input.trim()} \n          sx={{ minWidth: 'auto' }}\n        >\n          <SendIcon />\n        </Button>\n        <Button \n          variant=\"outlined\" \n          onClick={toggleRecording} \n          color={isRecording ? \"error\" : \"primary\"}\n          sx={{ minWidth: 'auto' }}\n        >\n          <MicIcon />\n        </Button>\n        <Button \n          variant=\"outlined\" \n          onClick={togglePause}\n          sx={{ minWidth: 'auto' }}\n        >\n          {isPaused ? <PlayArrowIcon /> : <PauseIcon />}\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Chat;\n"],"names":["MicIcon","createSvgIcon","_jsx","PauseIcon","PlayArrowIcon","SendIcon","Chat","messages","setMessages","useState","input","setInput","isPaused","setIsPaused","isRecording","setIsRecording","chatHistoryRef","useRef","ws","useEffect","event","data","prev","error","sendMessage","message","handleKeyPress","togglePause","toggleRecording","jsxs","Box","jsx","Typography","Paper","List","msg","index","ListItem","ListItemText","TextField","e","Button"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}