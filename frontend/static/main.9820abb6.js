import{r as V,c as F,j as e,a as c,B as h,C as $,b as x,s as S,d as w,A as N,T as q,I as y,e as g,D as G,f as b,L as I,g as H,h as U,i as K,k as R,O as k,l as O,m as z,n as D,o as W,p as A,q as J,t as B,u as P,R as Q,v as C,w as X}from"./vendor.536e8ebf.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(s){if(s.ep)return;s.ep=!0;const t=i(s);fetch(s.href,t)}})();var T,_=V;T=_.createRoot,_.hydrateRoot;const Y=F({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"},background:{default:"#f5f5f5",paper:"#ffffff"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h1:{fontWeight:500,fontSize:"2.5rem",lineHeight:1.2},h2:{fontWeight:500,fontSize:"2rem",lineHeight:1.3},h3:{fontWeight:500,fontSize:"1.75rem",lineHeight:1.4},h4:{fontWeight:500,fontSize:"1.5rem",lineHeight:1.4},h5:{fontWeight:500,fontSize:"1.25rem",lineHeight:1.4},h6:{fontWeight:500,fontSize:"1rem",lineHeight:1.4},button:{textTransform:"none"}},components:{MuiButton:{styleOverrides:{root:{borderRadius:4}}},MuiCard:{styleOverrides:{root:{borderRadius:8,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}}}}),M=()=>Y,Z="modulepreload",ee=function(n){return"/"+n},E={},u=function(o,i,a){if(!i||i.length===0)return o();const s=document.getElementsByTagName("link");return Promise.all(i.map(t=>{if(t=ee(t),t in E)return;E[t]=!0;const r=t.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(!!a)for(let m=s.length-1;m>=0;m--){const j=s[m];if(j.href===t&&(!r||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${l}`))return;const d=document.createElement("link");if(d.rel=r?"stylesheet":Z,r||(d.as="script",d.crossOrigin=""),d.href=t,document.head.appendChild(d),r)return new Promise((m,j)=>{d.addEventListener("load",m),d.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>o()).catch(t=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=t,window.dispatchEvent(r),!r.defaultPrevented)throw t})},p=n=>o=>e.jsx(c.Suspense,{fallback:e.jsx(h,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:e.jsx($,{})}),children:e.jsx(n,{...o})}),te=x(e.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),ne=x(e.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),se=x(e.jsx("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"}),"Folder"),re=x(e.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),oe=x(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),ie=x(e.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),v=240,ae=S("main",{shouldForwardProp:n=>n!=="open"})(({theme:n,open:o})=>({flexGrow:1,padding:n.spacing(3),transition:n.transitions.create("margin",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),marginLeft:`-${v}px`,...o&&{transition:n.transitions.create("margin",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen}),marginLeft:0}})),L=S("div")(({theme:n})=>({display:"flex",alignItems:"center",padding:n.spacing(0,1),...n.mixins.toolbar,justifyContent:"flex-end"})),ce=()=>{const[n,o]=c.useState(!0),i=()=>{o(!n)},a=[{text:"Dashboard",icon:e.jsx(ne,{}),path:"/dashboard"},{text:"Chat",icon:e.jsx(te,{}),path:"/chat"},{text:"Files",icon:e.jsx(se,{}),path:"/files"},{text:"Settings",icon:e.jsx(ie,{}),path:"/settings"}];return e.jsxs(h,{sx:{display:"flex"},children:[e.jsx(w,{}),e.jsx(N,{position:"fixed",sx:{zIndex:s=>s.zIndex.drawer+1},children:e.jsxs(q,{children:[e.jsx(y,{color:"inherit","aria-label":"open drawer",onClick:i,edge:"start",sx:{mr:2},children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),e.jsx(g,{variant:"h6",noWrap:!0,component:"div",children:"AutoBot Admin"})]})}),e.jsx(h,{component:"nav",sx:{width:{sm:v},flexShrink:{sm:0}},children:e.jsxs(G,{variant:"persistent",open:n,sx:{"& .MuiDrawer-paper":{boxSizing:"border-box",width:v}},children:[e.jsx(L,{children:e.jsx(g,{variant:"h6",component:"div",sx:{flexGrow:1,textAlign:"center"},children:"AutoBot"})}),e.jsx(b,{}),e.jsx(I,{children:a.map(s=>e.jsx(H,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(U,{sx:{minHeight:48,justifyContent:n?"initial":"center",px:2.5},href:s.path,children:[e.jsx(K,{sx:{minWidth:0,mr:n?3:"auto",justifyContent:"center"},children:s.icon}),e.jsx(R,{primary:s.text,sx:{opacity:n?1:0}})]})},s.text))}),e.jsx(b,{}),e.jsx(h,{sx:{p:2,mt:"auto"},children:e.jsx(g,{variant:"caption",display:"block",gutterBottom:!0,children:"Version 1.0.0"})})]})}),e.jsxs(ae,{open:n,children:[e.jsx(L,{}),e.jsx(k,{})]})]})},le=p(()=>u(()=>import("./AutoBotDashboard.777e8157.js"),["AutoBotDashboard.777e8157.js","vendor.536e8ebf.js"])),de=p(()=>u(()=>import("./index.28b88b30.js"),["index.28b88b30.js","vendor.536e8ebf.js"])),he=p(()=>u(()=>import("./index.890556ab.js"),["index.890556ab.js","vendor.536e8ebf.js"])),xe=p(()=>u(()=>import("./index.3ebb8318.js"),["index.3ebb8318.js","vendor.536e8ebf.js"])),ue={path:"/",element:e.jsx(ce,{}),children:[{path:"/dashboard",element:e.jsx(le,{})},{path:"/chat",element:e.jsx(de,{})},{path:"/files",element:e.jsx(he,{})},{path:"/settings",element:e.jsx(xe,{})}]},pe=()=>e.jsx(h,{sx:{display:"flex",minHeight:"100vh",alignItems:"center",justifyContent:"center",backgroundColor:"background.default"},children:e.jsx(k,{})}),fe=p(c.lazy(()=>u(()=>import("./index.f0d9961d.js"),["index.f0d9961d.js","vendor.536e8ebf.js"]))),me=p(c.lazy(()=>u(()=>import("./index.8e80ca8e.js"),["index.8e80ca8e.js","vendor.536e8ebf.js"]))),ge={path:"/",element:e.jsx(pe,{}),children:[{path:"/application/login",element:e.jsx(fe,{})},{path:"/application/register",element:e.jsx(me,{})}]},je=[ue,ge],ye=({open:n,onClose:o})=>{const[i,a]=c.useState([]);c.useEffect(()=>{n&&s()},[n]);const s=async()=>{try{const t=await fetch("/api/chat/history");if(t.ok){const r=await t.json();a(r.history||[])}else console.error("Error fetching chat history")}catch(t){console.error("Error fetching chat history:",t)}};return e.jsxs(O,{open:n,onClose:o,maxWidth:"md",fullWidth:!0,children:[e.jsx(z,{children:"Chat History"}),e.jsx(D,{children:i.length===0?e.jsx(g,{variant:"body1",children:"No chat history available."}):e.jsx(I,{children:i.map((t,r)=>e.jsx(H,{sx:{borderBottom:r<i.length-1?1:0,borderColor:"divider"},children:e.jsx(R,{primary:t.text,secondary:`${t.sender} - ${new Date(t.timestamp).toLocaleString()}`,sx:{bgcolor:t.sender==="user"?"#e3f2fd":t.sender==="error"?"#ffebee":"#f5f5f5",borderRadius:1,p:1}})},r))})}),e.jsx(W,{children:e.jsx(A,{onClick:o,children:"Close"})})]})},ve=({open:n,onClose:o})=>{const[i,a]=c.useState(""),[s,t]=c.useState(0);c.useEffect(()=>{n&&r()},[n]);const r=async()=>{try{const l=await fetch("/ctx_window_get");if(l.ok){const f=await l.json();a(f.content||""),t(f.tokens||0)}else console.error("Error fetching context window"),a("Error loading context window content.")}catch(l){console.error("Error fetching context window:",l),a("Error loading context window content.")}};return e.jsxs(O,{open:n,onClose:o,maxWidth:"md",fullWidth:!0,children:[e.jsx(z,{children:"Context Window"}),e.jsxs(D,{children:[e.jsxs(g,{variant:"body2",gutterBottom:!0,children:["Tokens: ",s]}),e.jsx(J,{fullWidth:!0,multiline:!0,variant:"outlined",value:i,InputProps:{readOnly:!0,style:{minHeight:"400px",fontFamily:"monospace"}}})]}),e.jsx(W,{children:e.jsx(A,{onClick:o,children:"Close"})})]})},we=()=>{const[n,o]=c.useState(!1),[i,a]=c.useState(!1),s=()=>je.map((t,r)=>e.jsx(C,{path:t.path,element:t.element,children:t.children&&t.children.map((l,f)=>e.jsx(C,{path:l.path,element:l.element},f))},r));return e.jsxs(B,{theme:M,children:[e.jsx(w,{}),e.jsx(P,{children:e.jsxs(h,{sx:{position:"relative"},children:[e.jsx(Q,{children:s()}),e.jsxs(h,{sx:{position:"fixed",bottom:20,right:20,display:"flex",flexDirection:"column",gap:1},children:[e.jsx(y,{color:"primary",onClick:()=>o(!0),sx:{bgcolor:"background.paper",boxShadow:1},title:"View Chat History",children:e.jsx(re,{})}),e.jsx(y,{color:"primary",onClick:()=>a(!0),sx:{bgcolor:"background.paper",boxShadow:1},title:"View Context Window",children:e.jsx(oe,{})})]}),e.jsx(ye,{open:n,onClose:()=>o(!1)}),e.jsx(ve,{open:i,onClose:()=>a(!1)})]})})]})};const be=document.getElementById("root"),Ce=T(be);Ce.render(e.jsx(X.StrictMode,{children:e.jsx(P,{children:e.jsxs(B,{theme:M(),children:[e.jsx(w,{}),e.jsx(we,{})]})})}));
//# sourceMappingURL=main.9820abb6.js.map
