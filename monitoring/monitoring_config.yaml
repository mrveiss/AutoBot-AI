# AutoBot Performance Monitoring Configuration
# Configuration for the distributed system performance monitoring suite

# Core Monitoring Settings
monitoring_interval: 30  # seconds between monitoring cycles
optimization_interval: 1800  # seconds between optimization cycles (30 minutes)

# Dashboard Settings
dashboard_enabled: true
dashboard_port: 9090

# Optimization Settings
auto_optimization_enabled: true
max_optimizations_per_hour: 3
optimization_severity_threshold: "medium"  # low, medium, high, critical
require_optimization_confirmation: false

# Benchmarking Settings
benchmark_schedule: "daily"  # manual, daily, weekly
benchmark_duration: 300  # seconds for automated benchmarks
comprehensive_benchmark_weekly: true

# Alert Thresholds
alert_thresholds:
  # System Resource Thresholds
  cpu_percent: 80.0
  memory_percent: 85.0
  disk_percent: 90.0
  load_average_multiplier: 1.5  # multiplier of CPU cores
  
  # Network Performance Thresholds
  network_latency_ms: 100.0
  packet_loss_percent: 5.0
  network_jitter_ms: 50.0
  
  # Service Performance Thresholds
  api_response_time: 5.0  # seconds
  api_success_rate: 95.0  # percentage
  
  # Database Performance Thresholds
  db_connection_time: 1.0  # seconds
  db_query_time: 0.5  # seconds
  db_memory_usage_mb: 2000  # MB per database
  
  # Hardware Utilization Thresholds
  gpu_temperature: 80.0  # Celsius
  gpu_utilization: 90.0  # percentage
  npu_utilization: 85.0  # percentage

# Distributed VM Configuration
distributed_vms:
  main:
    ip: "172.16.168.20"
    services: ["backend", "ollama"]
    monitoring_priority: "critical"
  
  frontend:
    ip: "172.16.168.21"
    services: ["frontend"]
    monitoring_priority: "high"
  
  npu_worker:
    ip: "172.16.168.22" 
    services: ["npu-worker"]
    monitoring_priority: "high"
    hardware_monitoring: true
  
  redis:
    ip: "172.16.168.23"
    services: ["redis"]
    monitoring_priority: "critical"
    database_monitoring: true
  
  ai_stack:
    ip: "172.16.168.24"
    services: ["ai-stack"]
    monitoring_priority: "high"
    hardware_monitoring: true
  
  browser:
    ip: "172.16.168.25"
    services: ["browser-service"]
    monitoring_priority: "medium"

# Service Monitoring Configuration
service_endpoints:
  backend:
    health_url: "http://172.16.168.20:8001/api/health"
    timeout: 10.0
    critical_service: true
  
  frontend:
    health_url: "http://172.16.168.21:5173/"
    timeout: 5.0
    critical_service: true
  
  npu_worker:
    health_url: "http://172.16.168.22:8081/health"
    timeout: 10.0
    critical_service: false
  
  ai_stack:
    health_url: "http://172.16.168.24:8080/health"
    timeout: 15.0
    critical_service: false
  
  browser_service:
    health_url: "http://172.16.168.25:3000/health"
    timeout: 10.0
    critical_service: false
  
  ollama:
    health_url: "http://172.16.168.20:11434/api/version"
    timeout: 15.0
    critical_service: true
  
  redis:
    host: "172.16.168.23"
    port: 6379
    timeout: 5.0
    critical_service: true

# Database Monitoring Configuration
database_monitoring:
  redis_databases:
    - db: 0
      name: "Main"
      critical: true
      max_memory_mb: 500
    - db: 1
      name: "Knowledge"
      critical: true
      max_memory_mb: 2000
    - db: 2
      name: "Prompts"
      critical: false
      max_memory_mb: 100
    - db: 4
      name: "Metrics"
      critical: false
      max_memory_mb: 500
    - db: 7
      name: "Workflows"
      critical: true
      max_memory_mb: 200
    - db: 8
      name: "Vectors"
      critical: true
      max_memory_mb: 3000

# Performance Optimization Rules
optimization_rules:
  system:
    cpu_optimization: true
    memory_cleanup: true
    disk_cleanup: true
    process_optimization: true
  
  services:
    restart_unhealthy_services: true
    optimize_service_configs: true
    scale_resources: false  # Manual scaling for distributed setup
  
  database:
    redis_memory_optimization: true
    redis_connection_pooling: true
    redis_persistence_optimization: true
  
  network:
    connection_optimization: true
    route_optimization: false  # VM network routes are fixed
    bandwidth_optimization: true
  
  hardware:
    gpu_optimization: true
    npu_optimization: true
    thermal_management: true

# Logging Configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  max_file_size_mb: 50
  backup_count: 10
  detailed_performance_logging: false
  
  # Log rotation for different components
  files:
    monitoring: "monitoring.log"
    optimization: "optimization.log"
    benchmarks: "benchmarks.log"
    alerts: "alerts.log"
    dashboard: "dashboard.log"

# Storage Configuration
storage:
  metrics_retention_days: 30
  benchmark_retention_days: 90
  alert_retention_days: 60
  
  # Paths
  log_directory: "/home/kali/Desktop/AutoBot/logs"
  metrics_directory: "/home/kali/Desktop/AutoBot/logs/metrics"
  benchmark_directory: "/home/kali/Desktop/AutoBot/logs/benchmarks"
  
  # Data export
  export_enabled: true
  export_format: "json"  # json, csv, both
  export_interval_hours: 24

# Alert and Notification Settings
alerting:
  enabled: true
  
  # Alert channels (future implementation)
  channels:
    console: true
    log_file: true
    email: false
    webhook: false
    slack: false
  
  # Alert grouping and rate limiting
  group_similar_alerts: true
  max_alerts_per_hour: 10
  alert_escalation_minutes: 30
  
  # Critical alert immediate notification
  critical_alert_immediate: true

# Hardware Specific Configuration
hardware:
  # Intel Ultra 9 185H Configuration
  cpu:
    cores: 22
    threads: 24
    architecture: "x86_64"
    monitoring_detailed: true
  
  # Memory Configuration
  memory:
    total_gb: 46
    monitoring_detailed: true
    swap_monitoring: true
  
  # NVIDIA RTX 4070 Configuration
  gpu:
    vendor: "nvidia"
    model: "RTX 4070"
    memory_gb: 12
    monitoring_enabled: true
    temperature_monitoring: true
  
  # Intel NPU Configuration
  npu:
    vendor: "intel"
    model: "AI Boost"
    monitoring_enabled: true
    openvino_optimization: true

# Development and Testing Settings
development:
  mock_vm_connections: false
  simulated_load_testing: false
  debug_mode: false
  test_alerts: false
  
  # Performance testing
  benchmark_on_startup: false
  continuous_benchmarking: false
  load_testing_enabled: false

# Production Optimizations
production:
  high_performance_mode: true
  aggressive_optimization: false
  predictive_scaling: false
  
  # Resource limits
  max_cpu_for_monitoring: 5.0  # percentage
  max_memory_for_monitoring: 500  # MB
  
  # Backup and recovery
  automatic_backup: true
  backup_interval_hours: 12
  recovery_testing: false