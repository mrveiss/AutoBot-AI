#  This file is part of systemd.
#
#  systemd is free software; you can redistribute it and/or modify it
#  under the terms of the GNU Lesser General Public License as published by
#  the Free Software Foundation; either version 2.1 of the License, or
#  (at your option) any later version.
#
# Entries in this file show the compile time defaults.
# You can change settings by editing this file.
# Defaults can be restored by simply deleting this file.
#
# See timesyncd.conf(5) for details.

[Time]
# AutoBot Time Synchronization Configuration
# Generated by Ansible for {{ ansible_hostname }}
# Timezone: {{ time_sync.timezone }}
# Generated: {{ ansible_date_time.iso8601 }}

# Primary NTP servers for {{ time_sync.timezone }}
NTP={{ time_sync.ntp.servers | join(' ') }}

# Fallback NTP servers
FallbackNTP={{ fallback.servers | join(' ') }}

# Root distance maximum
RootDistanceMaxSec=5

# Poll interval range
PollIntervalMinSec=32
PollIntervalMaxSec=2048

# Save clock to disk interval (15 minutes)
SaveIntervalSec=900

# Connection retry configuration
{% if time_sync.validation.max_drift_seconds is defined %}
# Maximum allowed time drift: {{ time_sync.validation.max_drift_seconds }} seconds
{% endif %}

# Logging configuration
{% if time_sync.logging.enable_detailed_logs %}
# Detailed logging enabled - check journalctl -u systemd-timesyncd
{% endif %}