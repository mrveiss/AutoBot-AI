---
# Default variables for time synchronization role

# Timezone configuration (matches main machine: Europe/Riga)
time_sync:
  # Main machine timezone - Europe/Riga (EEST, +0300)
  timezone: "Europe/Riga"

  # NTP configuration
  ntp:
    enabled: true
    servers:
      # Primary NTP servers for Europe/Riga region
      - "0.lv.pool.ntp.org"
      - "1.lv.pool.ntp.org"
      - "2.lv.pool.ntp.org"
      - "3.lv.pool.ntp.org"
      # Fallback to global pool
      - "0.pool.ntp.org"
      - "1.pool.ntp.org"

    # NTP service configuration
    service: "systemd-timesyncd"  # Use systemd for modern Ubuntu/Debian
    config_file: "/etc/systemd/timesyncd.conf"

    # Chrony alternative (if preferred)
    use_chrony: false
    chrony_config: "/etc/chrony/chrony.conf"

  # Hardware clock configuration
  hardware_clock:
    # Keep RTC in UTC (recommended)
    utc_mode: true
    # Sync hardware clock with system clock
    sync_hwclock: true

  # Time synchronization validation
  validation:
    # Maximum allowed time drift in seconds
    max_drift_seconds: 60
    # Retry attempts for time sync
    sync_retries: 3
    # Wait time between retries (seconds)
    retry_delay: 10

  # Logging
  logging:
    enable_detailed_logs: true
    log_file: "/var/log/autobot/time-sync.log"
    syslog_facility: "daemon"

# Service restart configuration
restart_services:
  # Services that may need restart after timezone change
  - "rsyslog"
  - "cron"
  - "systemd-logind"

# Emergency fallback configuration
fallback:
  # Fallback NTP servers if primary ones fail
  servers:
    - "time.google.com"
    - "time.cloudflare.com"
    - "time.apple.com"
    - "pool.ntp.org"